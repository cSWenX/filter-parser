# 图片滤镜参数反向分析软件需求文档（AI友好版）

### 1. 产品目标



* **核心价值**：用户上传一张带滤镜效果的图片，软件自动反向解析该滤镜对应的关键图片参数调整值（如对比度、亮度等），为用户提供可复用的参数配置参考；同时支持参数保存、历史调用及基于历史参数生成滤镜图片，提升参数实用性。

* **解决问题**：用户看到心仪的图片滤镜效果后，无法精准获知需调整哪些参数及对应数值；且参数无法留存复用、不能直接应用于新图片生成滤镜效果的痛点。

* **目标用户**：摄影爱好者、图片编辑从业者、社交媒体内容创作者（无需专业参数知识）。

### 2. 功能需求

#### 2.1 图片上传模块



* 触发条件：用户点击 “上传图片” 按钮

* 操作步骤：用户选择本地图片（支持 JPG、PNG、WEBP 格式），或拖拽图片至上传区域

* 预期结果：

1. 图片成功预览（显示在页面左侧，尺寸自适应）

2. 提示 “上传成功，正在分析参数”

#### 2.2 参数分析模块（核心功能）



* 触发条件：图片上传成功后自动触发

* 操作步骤：软件后台对图片进行像素分析、色彩空间解析

* 预期结果：

1. 分析时间≤3 秒（单张图片）

2. 输出至少 8 类核心参数的调整值（量化 + 方向），格式如下：



| 参数名称 | 调整方向         | 调整幅度（相对默认值）       | 参考标准       |
| ---- | ------------ | ----------------- | ---------- |
| 亮度   | 增加 / 降低      | ±X%（X 为 0-100 整数） | sRGB 标准色彩  |
| 对比度  | 增加 / 降低      | ±X%（X 为 0-100 整数） | 灰度阶差分析     |
| 饱和度  | 增加 / 降低      | ±X%（X 为 0-100 整数） | HSV 色彩模型   |
| 锐化   | 增强 / 减弱      | ±X%（X 为 0-100 整数） | 边缘清晰度算法    |
| 色温   | 偏暖 / 偏冷      | ±XK（X 为 0-500 整数） | 标准色温 6500K |
| 色调   | 偏红 / 偏绿 / 偏蓝 | ±X°（X 为 0-180 整数） | RGB 通道占比   |
| 阴影   | 提亮 / 压暗      | ±X%（X 为 0-100 整数） | 暗部像素占比     |
| 高光   | 降低 / 提升      | ±X%（X 为 0-100 整数） | 亮部像素占比     |



1. 若图片无明显滤镜调整（参数波动≤5%），提示 “该图片接近原始效果，未检测到显著滤镜参数调整”

#### 2.3 结果展示与导出模块



* 触发条件：参数分析完成后

* 操作步骤：用户查看分析结果，可点击 “导出参数” 按钮

* 预期结果：

1. 结果显示在页面右侧，参数分类清晰（每类参数配图标 + 文字说明）

2. 支持 “复制参数” 功能（点击后弹窗提示 “参数已复制到剪贴板”）

3. 支持 “导出为 TXT 文件” 功能（文件命名格式：图片名称\_滤镜参数\_日期.txt）

4. 提供 “参数应用建议”（如 “该参数组合适合风景类图片，可直接用于 Lightroom/PS”）

#### 2.4 参数保存与历史管理模块（新增功能）



* 触发条件：参数分析完成后，用户点击 “保存参数” 按钮

* 操作步骤：

1. 弹窗显示 “请为当前参数命名”，提供输入框（限制 1-20 个字符，支持中英文、数字、下划线）

2. 用户输入名称后点击 “确认保存”，或点击 “取消” 放弃保存

* 预期结果：

1. 命名符合规则时，弹窗提示 “参数保存成功”，参数自动关联当前用户（基于浏览器本地存储，无需登录）

2. 命名不符合规则（如为空、超字符、含特殊符号）时，弹窗提示 “命名需为 1-20 个字符，仅支持中英文、数字、下划线”

3. 下次打开网页时，页面右侧 “历史参数” 区域自动加载所有保存的参数（按保存时间倒序排列，显示名称、保存时间、核心参数预览）

4. 支持对历史参数进行 “删除” 操作（点击删除按钮后弹窗确认，确认后参数永久删除）

#### 2.5 基于历史参数生成滤镜图片模块（新增功能）



* 触发条件：

1. 用户上传新图片（需生成滤镜效果的原始图片）

2. 在 “历史参数” 区域选择目标参数，点击 “应用该参数” 按钮

* 操作步骤：

1. 软件加载用户上传的原始图片

2. 调用选中的历史参数，对原始图片进行色彩、亮度等参数调整

* 预期结果：

1. 处理时间≤2 秒，页面中间显示 “处理中...” 提示

2. 处理完成后，页面右侧显示对比效果（左侧为原始图片，右侧为应用参数后的滤镜图片，标注 “原始图”“滤镜效果图”）

3. 支持对滤镜图片进行 “下载” 操作（点击 “下载图片” 按钮，默认保存为 JPG 格式，分辨率与原始图片一致）

4. 若原始图片未上传，点击 “应用该参数” 时弹窗提示 “请先上传需处理的原始图片”

### 3. 非功能需求

#### 3.1 性能需求



* 响应时间：单张图片分析≤3 秒，基于历史参数生成滤镜图片≤2 秒；并发 50 人使用时，分析时间≤5 秒，生成图片时间≤4 秒

* 稳定性：连续上传 100 张图片、应用 50 次历史参数无崩溃，无参数分析错误、图片处理错误

* 兼容性：支持 Chrome、Edge、Firefox 最新版浏览器，支持 Windows10+/macOS11 + 系统；本地存储的历史参数在同一浏览器不同设备登录时（如同一账号同步浏览器数据）可正常加载

#### 3.2 安全性需求



* 用户上传的图片仅用于参数分析或滤镜生成，分析 / 生成完成后 24 小时内自动删除，不存储用户图片数据

* 导出的参数文件、下载的滤镜图片无恶意代码，不获取用户设备信息

* 本地存储的历史参数加密处理，避免被第三方工具非法读取

#### 3.3 易用性需求



* 操作路径：

1. 分析参数：上传图片→查看结果（≤2 步）

2. 保存参数：查看结果→输入名称→确认保存（≤3 步）

3. 生成滤镜图片：上传原始图片→选择历史参数→应用并下载（≤4 步）

* 界面提示：所有操作状态（上传中、分析中、处理中、保存成功、下载成功）均有明确文字 + 图标提示

* 容错性：图片上传失败、参数保存失败、滤镜生成失败后，均支持 “重新操作”，无需刷新页面；历史参数删除前提供二次确认，避免误操作

### 4. 约束条件



* 技术依赖：需集成图片色彩分析算法（如 OpenCV、PIL）、本地存储加密技术（如 localStorage 加密），无需依赖第三方 API

* 图片限制：仅支持 2D 静态图片，不支持动态图（GIF）、透明图层图片（PNG 透明通道在分析及生成滤镜图片时将被忽略）

* 精度限制：参数调整幅度为整数级，误差范围≤±8%（与专业修图软件对比）；基于历史参数生成的滤镜图片效果，与参数对应的原始滤镜效果相似度≥90%

* 存储限制：单浏览器本地存储的历史参数数量上限为 50 条，超过时弹窗提示 “历史参数已达上限 50 条，请删除不常用参数后再保存”

### 5. 验收标准

#### 5.1 功能验收



* 参数分析：用 5 张不同滤镜效果的图片（亮调、暗调、高饱和、低饱和、暖调）测试，均能正确识别 8 类参数的调整方向和幅度，误差≤±8%

* 参数保存与历史管理：

1. 成功保存 5 组不同参数，命名分别为中英文、数字、下划线组合，下次打开网页可正常加载

2. 尝试输入含特殊符号、超 20 字符的命名，触发正确错误提示

3. 删除任意历史参数，确认后参数不再显示，且无法恢复

* 滤镜图片生成：

1. 上传 3 张不同类型原始图片（风景、人像、静物），分别应用 3 组不同历史参数，生成的滤镜图片与原始图片对比，效果符合参数逻辑，且下载后图片无损

2. 未上传原始图片时点击 “应用参数”，触发正确提示

#### 5.2 非功能验收



* 性能：单张图片分析≤3 秒，生成滤镜图片≤2 秒；并发 50 人测试时，分析时间≤5 秒，生成图片时间≤4 秒

* 稳定性：连续上传 100 张图片、应用 50 次历史参数无崩溃；本地存储 50 条参数时，加载速度≤1 秒

* 兼容性：在 Chrome、Edge、Firefox 最新版浏览器及 Windows10、macOS11 系统上测试，所有功能正常，无界面错乱

* 安全性：查看浏览器存储目录，无用户图片残留；用第三方工具读取本地存储，无法解析历史参数明文

> （注：文档部分内容可能由 AI 生成）